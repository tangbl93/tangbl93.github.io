<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.0">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Docusaurus Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Docusaurus Blog Atom Feed"><title data-react-helmet="true">Dart tour: 4、数据类型 | Docusaurus</title><meta data-react-helmet="true" property="og:url" content="https://tangbl93.github.io//docs/dart/dart-tour-types"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Dart tour: 4、数据类型 | Docusaurus"><meta data-react-helmet="true" name="description" content="在 Dart 中有以下常用的内置类型:"><meta data-react-helmet="true" property="og:description" content="在 Dart 中有以下常用的内置类型:"><link data-react-helmet="true" rel="shortcut icon" href="/images/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://tangbl93.github.io//docs/dart/dart-tour-types"><link data-react-helmet="true" rel="alternate" href="https://tangbl93.github.io//docs/dart/dart-tour-types" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://tangbl93.github.io//docs/dart/dart-tour-types" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.dc5e9681.css">
<link rel="preload" href="/assets/js/runtime~main.5abe5d4e.js" as="script">
<link rel="preload" href="/assets/js/main.c75862fc.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/images/logo.svg" alt="Docusaurus Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/images/logo.svg" alt="Docusaurus Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">Docusaurus</strong></a><a class="navbar__item navbar__link navbar__link--active" href="/docs/index">专栏</a><a class="navbar__item navbar__link" href="/blog">博客</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/tangbl93/tangbl93.github.io" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle displayOnlyInLargeViewport_GrZ2 react-toggle--disabled" role="button" tabindex="-1"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_71bT">🌜</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">🌞</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/images/logo.svg" alt="Docusaurus Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/images/logo.svg" alt="Docusaurus Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">Docusaurus</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link navbar__link--active" href="/docs/index">专栏</a></li><li class="menu__list-item"><a class="menu__link" href="/blog">博客</a></li><li class="menu__list-item"><a href="https://github.com/tangbl93/tangbl93.github.io" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><div class="docSidebarContainer_3Kbt" role="complementary"><div class="sidebar_15mo"><div class="menu menu--responsive thin-scrollbar menu_Bmed"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_fgN0" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/index">专栏</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Dart tour</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/dart/dart-tour-preface">Dart tour: 1、概览</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/dart/dart-tour-comments">Dart tour: 2、注释</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/dart/dart-tour-variables">Dart tour: 3、变量</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/dart/dart-tour-types">Dart tour: 4、数据类型</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/dart/dart-tour-functions">Dart tour: 5、函数</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/dart/dart-tour-operators">Dart tour: 6、操作符</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/dart/dart-tour-control">Dart tour: 7、控制流程语句</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/dart/dart-tour-exceptions">Dart tour: 8、异常</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/dart/dart-tour-classes">Dart tour: 9、类</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/dart/dart-tour-enums">Dart tour: 10、枚举</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/dart/dart-tour-mixin">Dart tour: 11、Mixin</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/dart/dart-tour-generics">Dart tour: 12、泛型</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/dart/dart-tour-libraries">Dart tour: 13、使用库</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/dart/dart-tour-asynchrony">Dart tour: 14、异步编程</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/dart/dart-tour-generators">Dart tour: 15、生成器</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/dart/dart-tour-isolates">Dart tour: 16、隔离区(Isolates)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/dart/dart-tour-typedef">Dart tour: 17、Typedefs</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/dart/dart-tour-metadata">Dart tour: 18、Metadata</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/dart/dart-tour-null-safety">Dart tour: 19、Sound null safety</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/dart/dart-tour-package">Dart tour: 20、Package</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Fastlane实战</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/fastlane/index">0、前言</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/fastlane/fastlane-gym-01">1、自动化打包(上)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/fastlane/fastlane-gym-02">2、自动化打包(下)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/fastlane/fastlane-match">3、管理证书</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/fastlane/fastlane-tjcsj">4、添加测试机</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/fastlane/fastlane-iap">5、新建内购项目</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/fastlane/fastlane-archive">6、通过Archive生成IPA</a></li></ul></li></ul></div></div></div><main class="docMainContainer_3ufF"><div class="container padding-vert--lg docItemWrapper_3FMP"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><header><h1 class="docTitle_3a4h">Dart tour: 4、数据类型</h1></header><div class="markdown"><p>在 <code>Dart</code> 中有以下常用的内置类型:</p><ol><li>Numbers (<code>int</code>, <code>double</code>)</li><li>Strings (<code>String</code>)</li><li>Booleans (<code>bool</code>)</li><li>Lists (<code>List</code>)</li><li>Sets (<code>Set</code>)</li><li>Maps (<code>Map</code>)</li><li>Runes (常用于在 Characters API 中进行字符替换)</li><li>Symbols (<code>Symbol</code>)</li><li>The value null (<code>Null</code>)</li></ol><p>此外还有些不常用的数据类型，但是也比较重要的：</p><ol><li><code>Object</code>: 在 <code>Dart</code> 中除了 <code>Null</code> 之外的其他类型的父类。</li><li><code>Future</code>、<code>Stream</code>: 在异步中经常使用的类型。</li><li><code>Iterable</code>: 迭代生成器，一般在循环中使用。</li><li><code>Never</code>: 表示表达式永远不会成功运行结束，通常用于必定抛出异常的函数中。</li><li><code>dynamic</code>: 表示这个变量不使用静态检查，可以使用任意类型，一般可以用 <code>Object</code> 代替。</li><li><code>void</code>: 表示这个值不存在，通常用于返回值。</li></ol><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="获取对象的类型"></a>获取对象的类型<a class="hash-link" href="#获取对象的类型" title="Direct link to heading">#</a></h2><p>在运行时，通过对象的 <code>runtimeType</code> 属性获取到对象的类型。</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly dart"><div tabindex="0" class="prism-code language-dart codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">var a = 233;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">print(&#x27;The type of a is ${a.runtimeType}&#x27;); // int</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="numbers"></a>Numbers<a class="hash-link" href="#numbers" title="Direct link to heading">#</a></h2><p><code>Dart</code> 支持两种 <code>Number</code> 类型，都是 <code>num</code> 的子类：</p><ul><li><code>int</code>: 整数值；长度不超过 64 位，具体取值范围 依赖于不同的平台。</li><li><code>double</code>: 64 位的双精度浮点数字，且符合 <code>IEEE 754</code> 标准。</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly dart"><div tabindex="0" class="prism-code language-dart codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">// 整数值字面量</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">var x = 1;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">var hex = 0xDEADBEEF;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">int exponent = 8e5;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">// 浮点数字面量</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">var y = 1.1;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">var exponents = 1.42e5;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">// 数值类型, 值可以是整数值或者浮点数</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">num x = 1; // x can have both int and double values</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">x += 2.5;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">// 整型字面量将会在必要的时候自动转换成浮点数字面量</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">// 在 Dart 2.1 之前，在浮点数上下文中使用整数字面量是错误的</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">double z = 1; // double z = 1.0</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>此外，字符串和数字之间转换也可以相互转换。</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly dart"><div tabindex="0" class="prism-code language-dart codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">// String -&gt; int</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">var one = int.parse(&#x27;1&#x27;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">assert(one == 1);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">// String -&gt; double</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">var onePointOne = double.parse(&#x27;1.1&#x27;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">assert(onePointOne == 1.1);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">// int -&gt; String</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">String oneAsString = 1.toString();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">assert(oneAsString == &#x27;1&#x27;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">// double -&gt; String</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">String piAsString = 3.14159.toStringAsFixed(2);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">assert(piAsString == &#x27;3.14&#x27;);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="strings"></a>Strings<a class="hash-link" href="#strings" title="Direct link to heading">#</a></h2><p>字符串（<code>String</code> 对象）包含了 <code>UTF-16</code> 编码的字符序列。可以使用单引号或者双引号来创建字符串。</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly dart"><div tabindex="0" class="prism-code language-dart codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">var s1 = &#x27;Single quotes work well for string literals.&#x27;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">var s2 = &quot;Double quotes work just as well.&quot;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">var s3 = &#x27;It\&#x27;s easy to escape the string delimiter.&#x27;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">var s4 = &quot;It&#x27;s even easier to use the other delimiter.&quot;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">var s5 = &#x27;使用单引号创建字符串字面量。&#x27;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">var s6 = &quot;双引号也可以用于创建字符串字面量。&quot;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">var s7 = &#x27;使用单引号创建字符串时可以使用斜杠来转义那些与单引号冲突的字符串：\&#x27;。&#x27;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">var s8 = &quot;而在双引号中则不需要使用转义与单引号冲突的字符串：&#x27;&quot;;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>在字符串中，请以 <code>${表达式}</code> 的形式使用表达式，如果表达式是一个标识符，可以省略掉 <code>{}</code>。如果表达式的结果为一个对象，则 <code>Dart</code> 会调用该对象的 <code>toString</code> 方法来获取一个字符串。可以使用 <code>+</code> 运算符或并列放置多个字符串来连接字符串。</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly dart"><div tabindex="0" class="prism-code language-dart codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">var s = &#x27;string interpolation&#x27;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">assert(&#x27;Dart has $s, which is very handy.&#x27; ==</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &#x27;Dart has string interpolation, &#x27; +</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &#x27;which is very handy.&#x27;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">assert(&#x27;That deserves all caps. &#x27; +</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &#x27;${s.toUpperCase()} is very handy!&#x27; ==</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&#x27;That deserves all caps. &#x27; +</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&#x27;STRING INTERPOLATION is very handy!&#x27;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">var s1 = &#x27;String &#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&#x27;concatenation&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&quot; works even over line breaks.&quot;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">assert(s1 ==</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&#x27;String concatenation works even over &#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&#x27;line breaks.&#x27;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">var s2 = &#x27;The + operator &#x27; + &#x27;works, as well.&#x27;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">assert(s2 == &#x27;The + operator works, as well.&#x27;);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>使用三个单引号或者三个双引号也能创建多行字符串，在字符串前加上 <code>r</code> 作为前缀创建原始字符串（即不会被做任何处理（比如转义）的字符串）。</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly dart"><div tabindex="0" class="prism-code language-dart codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">var s1 = &#x27;&#x27;&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">你可以像这样创建多行字符串。</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&#x27;&#x27;&#x27;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">var s2 = &quot;&quot;&quot;这也是一个多行字符串。&quot;&quot;&quot;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">var s3 = r&#x27;In a raw string, not even \n gets special treatment.&#x27;;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="booleans"></a>Booleans<a class="hash-link" href="#booleans" title="Direct link to heading">#</a></h2><blockquote><p><code>Dart</code> 使用 <code>bool</code> 关键字表示布尔类型，布尔类型只有两个对象 <code>true</code> 和 <code>false</code>，两者都是编译时常量。</p></blockquote><p><code>Dart</code> 的类型安全不允许使用类似如 <code>if (nonbooleanValue)</code> 或者 <code>assert (nonbooleanValue)</code> 这样的代码检查布尔值。相反应该总是显式地检查布尔值，比如下面的代码这样：</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly dart"><div tabindex="0" class="prism-code language-dart codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">// 检查是否为空字符串</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">var fullName = &#x27;&#x27;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">assert(fullName.isEmpty);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">// 检查是否小于等于零</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">var hitPoints = 0;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">assert(hitPoints &lt;= 0);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">// 检查是否为 null</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">var unicorn;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">assert(unicorn == null);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">// 检查是否为 NaN</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">var iMeantToDoThis = 0 / 0;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">assert(iMeantToDoThis.isNaN);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="lists"></a>Lists<a class="hash-link" href="#lists" title="Direct link to heading">#</a></h2><p><code>List</code> 表示数组对象，在集合中仅可存在指定类型的元素。
可以在 <code>Dart</code> 的集合类型的最后添加尾随逗号,这个尾随逗号并不会影响集合，但它能有效避免「复制粘贴」的错误。</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly dart"><div tabindex="0" class="prism-code language-dart codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">var list = [1, 2, 3]; // List&lt;int&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">var strlist = [  // List&lt;String&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&#x27;Car&#x27;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&#x27;Boat&#x27;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&#x27;Plane&#x27;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">];</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">// CRUD</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">// 获取List的长度</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">assert(list.length == 3);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">// 获取特定下标的元素</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">assert(list[1] == 2);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">// 修改特定下标的元素</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">list[1] = 1;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">assert(list[1] == 1);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">// 在 List 字面量前添加 const 关键字会创建一个编译时常量</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">var constantList = const [1, 2, 3];</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">// constantList[1] = 1; // This line will cause an error</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p><code>Dart 2.3</code> 中引入了 扩展操作符（<code>...</code>）和 空感知扩展操作符（<code>...?</code>），提供了一种将多个元素插入集合的简洁方法。</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly dart"><div tabindex="0" class="prism-code language-dart codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">// 使用扩展操作符（...）将一个 List 中的所有元素插入到另一个 List 中</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">var list = [1, 2, 3];</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">var list2 = [0, ...list];</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">assert(list2.length == 4);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">// 如果扩展操作符右边可能为 null，则使用 null-aware 扩展操作符（...?）来避免产生异常</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">var list;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">var list2 = [0, ...?list];</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">assert(list2.length == 1);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>此外，<code>Dart</code> 还同时引入了集合中的 <code>if</code> 和 集合中的 <code>for</code> 操作，在构建集合时，可以使用条件判断(<code>if</code>) 和循环 (<code>for</code>)。</p><p>下面示例是 的示例，它可能包含 3 个或 4 个元素：</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly dart"><div tabindex="0" class="prism-code language-dart codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">// 使用 集合中的 if 来创建一个 List</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">var promoActive = true;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">var nav = [</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&#x27;Home&#x27;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&#x27;Furniture&#x27;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&#x27;Plants&#x27;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">if (promoActive) &#x27;Outlet&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">];</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">assert(nav.length == 4);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">// 使用 集合中的 for 将列表中的元素修改后添加到另一个列表中</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">var listOfInts = [1, 2, 3];</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">var listOfStrings = [</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&#x27;#0&#x27;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">for (var i in listOfInts) &#x27;#$i&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">];</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">assert(listOfStrings[1] == &#x27;#1&#x27;);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="sets"></a>Sets<a class="hash-link" href="#sets" title="Direct link to heading">#</a></h2><blockquote><p><code>Map</code> 字面量语法相似于 <code>Set</code> 字面量语法。因为先有的 <code>Map</code> 字面量语法，所以 <code>{}</code> 默认是 <code>Map</code> 类型。</p></blockquote><p><code>Set</code> 是一组特定元素的无序集合。 <code>Set</code> 字面量(literals) 是在 Dart 2.2 中才加入的。</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly dart"><div tabindex="0" class="prism-code language-dart codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">// 使用 Set 字面量来创建一个 Set 集合</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">var halogens = {&#x27;fluorine&#x27;, &#x27;chlorine&#x27;, &#x27;bromine&#x27;, &#x27;iodine&#x27;, &#x27;astatine&#x27;}; // Set&lt;String&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">// 可以使用在 `{}` 前加上类型参数的方式创建一个空的 Set，或者将 `{}` 赋值给一个 Set 类型的变量：</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">var names = &lt;String&gt;{}; // 类型+{}的形式创建 Set。</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">// Set&lt;String&gt; names = {}; // 声明类型变量的形式创建 Set</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">// var names = {}; // 这样的形式将创建一个 Map 而不是 Set</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">// 使用 add() 方法或 addAll() 方法向已存在的 Set 中添加项目</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">var elements = &lt;String&gt;{};</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">elements.add(&#x27;fluorine&#x27;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">elements.addAll(halogens);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">// 使用 .length 可以获取 Set 中元素的数量</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">assert(elements.length == 5);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">// 可以在 Set 字面量前添加 const 关键字创建一个 Set 编译时常量：</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">final constantSet = const {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&#x27;fluorine&#x27;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&#x27;chlorine&#x27;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&#x27;bromine&#x27;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&#x27;iodine&#x27;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&#x27;astatine&#x27;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">};</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">// constantSet.add(&#x27;helium&#x27;); // This line will cause an error.</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>从 <code>Dart 2.3</code> 开始，<code>Set</code> 可以像 <code>List</code> 一样支持使用 <code>扩展操作符</code> 和 <code>空感知扩展操作符</code> 以及 <code>if</code> 和 <code>for</code> 操作。</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly dart"><div tabindex="0" class="prism-code language-dart codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">// 扩展操作符</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">var list1 = {1, 2, 3};</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">var list2 = {0, ...list1};</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">assert(list2.length == 4);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">// 空感知扩展操作符</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">var list3 = {0, ...?null};</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">assert(list3.length == 1);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">// if 操作</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">var promoActive = true;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">var nav = {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&#x27;Home&#x27;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&#x27;Furniture&#x27;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&#x27;Plants&#x27;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">if (promoActive) &#x27;Outlet&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">};</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">assert(nav.length == 4);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">// for 操作</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">var listOfInts = [1, 2, 3];</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">var listOfStrings = {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&#x27;#0&#x27;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">for (var i in listOfInts) &#x27;#$i&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">};</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">assert(listOfStrings.length == 4);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="maps"></a>Maps<a class="hash-link" href="#maps" title="Direct link to heading">#</a></h2><blockquote><p><code>Map</code> 是用来关联键(<code>keys</code>)和值(<code>values</code>)的对象。其中键和值都可以是任何类型的对象。</p></blockquote><blockquote><p><code>Map</code> 也可以像 <code>List</code> 一样支持使用扩展操作符（<code>...</code> 和 <code>...?</code>）以及集合的 <code>if</code> 和 <code>for</code> 操作。</p></blockquote><p>创建 <code>Map</code> 对象的方式:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly dart"><div tabindex="0" class="prism-code language-dart codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">// 使用 Map 字面量创建 Map</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">// Map&lt;String, String&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">var gifts = {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&#x27;first&#x27;: &#x27;partridge&#x27;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&#x27;second&#x27;: &#x27;turtledoves&#x27;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&#x27;fifth&#x27;: &#x27;golden rings&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">};</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">// Map&lt;int, String&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">var nobleGases = {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">2: &#x27;helium&#x27;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">10: &#x27;neon&#x27;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">18: &#x27;argon&#x27;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">};</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">// 使用 Map 的构造器创建 Map</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">// 备注: 在 Dart 中，new 关键词是可选的，且不被建议使用</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">var gifts = Map&lt;String, String&gt;();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">gifts[&#x27;first&#x27;] = &#x27;partridge&#x27;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">gifts[&#x27;second&#x27;] = &#x27;turtledoves&#x27;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">gifts[&#x27;fifth&#x27;] = &#x27;golden rings&#x27;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">var nobleGases = Map&lt;int, String&gt;();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">nobleGases[2] = &#x27;helium&#x27;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">nobleGases[10] = &#x27;neon&#x27;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">nobleGases[18] = &#x27;argon&#x27;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">// 在一个 Map 字面量前添加 const 关键字可以创建一个 Map 编译时常量</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">final constantMap = const {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">2: &#x27;helium&#x27;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">10: &#x27;neon&#x27;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">18: &#x27;argon&#x27;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">};</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">// constantMap[2] = &#x27;Helium&#x27;; // This line will cause an error.</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>操作 <code>Map</code> 对象的方法(每段代码独立存在):</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly dart"><div tabindex="0" class="prism-code language-dart codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">// 向现有的 Map 中添加键值对</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">var gifts = {&#x27;first&#x27;: &#x27;partridge&#x27;};</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">gifts[&#x27;fourth&#x27;] = &#x27;calling birds&#x27;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">// 从一个 Map 中获取一个值的操作</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">var gifts = {&#x27;first&#x27;: &#x27;partridge&#x27;};</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">assert(gifts[&#x27;first&#x27;] == &#x27;partridge&#x27;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">// 如果检索的 Key 不存在于 Map 中则会返回一个 null</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">var gifts = {&#x27;first&#x27;: &#x27;partridge&#x27;};</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">assert(gifts[&#x27;fifth&#x27;] == null);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">// 使用 .length 可以获取 Map 中键值对的数量</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">var gifts = {&#x27;first&#x27;: &#x27;partridge&#x27;};</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">gifts[&#x27;fourth&#x27;] = &#x27;calling birds&#x27;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">assert(gifts.length == 2);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="runes-与-grapheme-clusters"></a>Runes 与 grapheme clusters<a class="hash-link" href="#runes-与-grapheme-clusters" title="Direct link to heading">#</a></h2><p>在 <code>Dart</code> 中，<code>runes</code> 封装了字符串的 <code>Unicode</code> 码位。使用 <code>characters</code> 包来访问或者操作字符(characters，也被称为 Unicode (extended) grapheme clusters)。</p><p><code>Unicode</code> 编码为每一个字母、数字和符号都定义了一个唯一的数值。因为 <code>Dart</code> 中的字符串是一个 UTF-16 的字符序列，所以如果想要表示 32 位的 <code>Unicode</code> 数值则需要一种特殊的语法。</p><p>表示 <code>Unicode</code> 字符的常见方式是使用 <code>\uXXXX</code>，其中 <code>XXXX</code> 是一个四位数的 16 进制数字。例如心形字符<code>（♥）</code>的 <code>Unicode</code> 为 <code>\u2665</code>。对于不是四位数的 16 进制数字，需要使用大括号将其括起来。例如大笑的 <code>emoji</code> 表情<code>（😆）</code>的 <code>Unicode</code> 为 <code>\u{1f600}</code>。</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly dart"><div tabindex="0" class="prism-code language-dart codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">void main() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  var heart = &quot;\u2665&quot;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  print(heart);     // ♥</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  var laughing = &quot;\u{1f600}&quot;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  print(laughing);  // 😀</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>如果需要读写单个 Unicode 字符，可以使用 <a href="https://pub.dev/packages/characters" target="_blank" rel="noopener noreferrer">characters</a> 包中定义的 <code>characters getter</code>。它将返回 <code>Characters</code> 对象作为一系列 <code>grapheme clusters</code> 的字符串。下面是使用 <code>characters</code> API 的样例：</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly dart"><div tabindex="0" class="prism-code language-dart codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">import &#x27;package:characters/characters.dart&#x27;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">void main() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  var hi = &#x27;Hi 🇩🇰&#x27;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  print(hi);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  print(&#x27;The end of the string: ${hi.substring(hi.length - 1)}&#x27;); // �</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  print(&#x27;The last character: ${hi.characters.last}\n&#x27;);           // 🇩🇰</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p><code>String</code> 类与 <code>runes</code> 可以通过某些方法相互转换。</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly dart"><div tabindex="0" class="prism-code language-dart codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">var hi = &#x27;♥  😅  😎  👻  🖖  👍&#x27;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">print(hi.runes);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Runes input = new Runes(&#x27;\u2665  \u{1f605}  \u{1f60e}  \u{1f47b}  \u{1f596}  \u{1f44d}&#x27;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">print(new String.fromCharCodes(input));</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="symbols"></a>Symbols<a class="hash-link" href="#symbols" title="Direct link to heading">#</a></h2><blockquote><p><code>Symbol</code> 表示 <code>Dart</code> 中声明的操作符或者标识符。通常基本用不到。</p></blockquote><blockquote><p><code>Symbol</code> 对于那些通过名称引用标识符的 API 很有用，因为代码压缩后，尽管标识符的名称会改变，但是它们的 <code>Symbol</code> 会保持不变。</p></blockquote><blockquote><p>可以使用在标识符前加 # 前缀来获取 <code>Symbol</code> , <code>Symbol</code> 字面量是编译时常量。</p></blockquote><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly dart"><div tabindex="0" class="prism-code language-dart codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">#radix;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">#bar;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">print(#radix);  // Symbol(&quot;radix&quot;)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div></div></article><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/dart/dart-tour-variables"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« Dart tour: 3、变量</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/dart/dart-tour-functions"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Dart tour: 5、函数 »</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#获取对象的类型" class="table-of-contents__link">获取对象的类型</a></li><li><a href="#numbers" class="table-of-contents__link">Numbers</a></li><li><a href="#strings" class="table-of-contents__link">Strings</a></li><li><a href="#booleans" class="table-of-contents__link">Booleans</a></li><li><a href="#lists" class="table-of-contents__link">Lists</a></li><li><a href="#sets" class="table-of-contents__link">Sets</a></li><li><a href="#maps" class="table-of-contents__link">Maps</a></li><li><a href="#runes-与-grapheme-clusters" class="table-of-contents__link">Runes 与 grapheme clusters</a></li><li><a href="#symbols" class="table-of-contents__link">Symbols</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2021 Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.5abe5d4e.js"></script>
<script src="/assets/js/main.c75862fc.js"></script>
</body>
</html>